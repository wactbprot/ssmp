#!/usr/bin/env node
/**
 * mpvs
 */
var md       = require("markdox"),
    fs       = require("fs"),
    libpath  =  "./lib/",
    trgtpath =  "./doc/",
    files    = fs.readdirSync(libpath);

  md.process("./ssmp.js", trgtpath + "/ssmp.js.md", function(){
    console.log("app.js.md generated");
  });

  md.process("./http-ssmp.js", trgtpath + "/http-ssmp.js.md", function(){
    console.log("app.js.md generated");
  });

  md.process("./socket-ssmp.js", trgtpath + "/socket-ssmp.js.md", function(){
    console.log("app.js.md generated");
  });

 for(var i = 0; i < files.length; i++){
  md.process(libpath  + files[i], trgtpath + files[i] + ".md", function(f){

    return function(){
      console.log(f + " generated");
    }
  }(files[i] + ".md"));
 }